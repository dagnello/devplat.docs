<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="topic_gly_xmh_ts">
  <title>HPE Helion 2.0 Development Platform: Install the Service Installer</title>
  <body>
    <section><p>The installation procedure has changed significantly since the last release. The HDP Installer
        2.0, also known as HDPI, is a plugin for the the python-openstackclient (OSC). It is able to
        leverage the authentication, configuration and command line option parsing that is already
        part of OSC to greatly simplify the installation process.</p><note type="warning">You must have
            <xref href="devplatform_install_prereq.dita#topic_x54_njh_ts">satisfied all
            prerequisites</xref> before beginning installation.</note><note type="important">Do not
          source <codeph>service.osrc</codeph>, <codeph>keystone.osrc</codeph>, or <b>any</b> other
          file before you begin.</note>
    </section>

    <section id="pre-installing-the-hp-helion-development-platform">
      <title>Install the HPE Helion Development Platform Installation Client</title>
      <ol>
        <li>Navigate to the <xref href="https://helion.hpwsportal.com/catalog.html#/Home/Show"
            format="html" scope="external">HPE Helion Download Network</xref> (HDN) and log in. If
          necessary, create an account first.</li>
        <!--<li><xref href="install_offline.dita#topic_w25_hqp_xt">Download the latest
          </xref>Development Platform Installer package.</li>-->
        <li>For each service:
          <ol> <li>Locate the service to download.</li>
            <li>Click the blue Download button at the top right of the screen to begin the download. </li>
            <li>The best option is to download directly to the HPE Helion OpenStack Deployer. If you
              can not download directly to the HPE Helion OpenStack deployer, copy all the downloaded
              packages to a USB stick or external hard drive and then copy the files onto the physical
              machine hosting the HPE Helion OpenStack Deployer. Make sure there is enough space; the
              file sizes can be significant.</li></ol></li>
        <li>Follow the installation instructions provided for each service.<note>When installing
          pre-downloaded files, make sure you run the installer from the same directory where the
          installation files are. If the installer cannot find a file with the name you provided in
          the local directory, it will attempt to download the files again. </note></li>
        <li>Ensure all OS_ variables are unset. To check this, run <codeblock>env | grep OS_ </codeblock>
          and then <codeph>unset</codeph> any variables which appear in the list of results. </li>
        <li>SSH to the HPE Helion OpenStack Deployer. </li>
        <li>Create and source the Virtual Environment. In this example,
            <codeph>&lt;dpi-venv&gt;.tgz</codeph> is the name of the installer. This process creates
          a directory under /opt which is owned by root. This requires sudo to create, so the owner
          of that folder needs to be changed to whatever the user will log in as; in this example,
          the value is
          <i>stack</i>.<codeblock>sudo mkdir -p /opt/stack/venv/&lt;dpi-venv>
sudo tar -C /opt/stack/venv/&lt;dpi-venv&gt; -xzf &lt;dpi-venv&gt;.tgz
sudo chown stack.stack /opt/stack/venv/&lt;dpi-venv&gt; 
source /opt/stack/venv/&lt;dpi-venv&gt;/bin/activate</codeblock></li>
        <li>Test the installation by retrieving a list of installable files.
            <codeblock>openstack hdpi --os-cloud mycloud list</codeblock><note>If further
            troubleshooting information is required, add the <codeph>--debug</codeph> option to the
            end of the previous command.</note></li>
      </ol>
    </section>
  </body>
</topic>
