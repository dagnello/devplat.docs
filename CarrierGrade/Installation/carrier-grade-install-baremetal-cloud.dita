<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
  PUBLIC "-//OASIS//DTD DITA Topic//EN" "http://docs.oasis-open.org/dita/v1.1/OS/dtd/topic.dtd" ><topic xml:lang="en-us" id="topic1107">
<title>HPE Helion <tm tmtype="reg">OpenStack</tm> Carrier Grade 2.0 Beta:
    Deploying the Baremetal Region</title>
<prolog>
  <metadata>
    <othermeta name="layout" content="default"/>
    <othermeta name="product-version" content="HPE Helion Openstack Carrier Grade 1.1"/>
    <othermeta name="role" content="Storage Administrator"/>
    <othermeta name="role" content="Storage Architect"/>
    <othermeta name="role" content="Michael B"/>
    <othermeta name="product-version1" content="HPE Helion Openstack Carrier Grade 1.1"/>
  </metadata>
</prolog>
<body>
  <!-- https://etherpad.hpcloud.net/p/CGHOS2_0_Ironic_Standalone_PhysicalSetup -->
    <p>If you are installing the <codeph>sacramento</codeph> template, which includes the KVM
      region, the baremetal region, ESX storage, and uses HPE DCN VRS networking, follow these
      instructions after installing the KVM region. If you are installing a different deployment,
      disregard these instructions.</p>
    <section><title>Configure baremetal node ports into access mode</title><p>Ensure that the switch
        ports connected to baremetal instance nodes are in access mode. This is a pre-requisite
        before provisioning baremetal instances. </p><p>To configure a port onto access mode execute
        the following on the switch:
        <codeblock>system-view
interface:&lt;interface-name&gt; &lt;port&gt;
port link-type 
access 
save 
force quit 
quit </codeblock></p>After
      configuring other region variables as well, do hcfgproc, hnetinit and hnetping followed by
      hdeploy</section>
    <section>
      <title>Provision baremetal nodes</title>
      <p>
        <ol id="ol_bns_j1f_xt">
          <li>Execute the following commands to upload an Ubuntu disk image for provisioning The
            image will be used in nova boot.
            <codeblock>glance image-create --name deploy-initrd --is-public True --disk-format ari --container-format ari &lt; ironic-deploy.initramfs
glance image-create --name deploy-kernel --is-public True --disk-format aki --container-format aki &lt; ironic-deploy.kernel 
glance image-create --name ubuntu-disk --is-public True --disk-format qcow2 --container-format bare &lt; ubuntu.qcow2</codeblock></li>
          <li>Execute the following commands to create a switch
            entry:<codeblock>neutron switch-create --host &lt;switch ip&gt; --username &lt;username&gt; --password &lt;password&gt; --type s5930 --id aa:bb:cc:dd:ee:ff</codeblock></li>
          <li>Execute the following commands to create a new
            flavor:<codeblock>nova flavor-create baremetal auto 4096 80 2
nova flavor-key baremetal set "capabilities:boot_option"="local" 
nova flavor-key baremetal set "capabilities:boot_mode"="bios"</codeblock></li>
          <li>Execute the following commands to register the Ironic
            node:<codeblock>ironic node-create -d pxe_ipmitool -i ipmi_address=&lt;&lt;ip&gt;&gt; -i
ipmi_username=&lt;&lt;user&gt; -i ipmi_password=&lt;&lt;password&gt; -i 
ipmi_terminal_port=9091 -p cpus=2 -p memory_mb=4096 -p local_gb=80 -i 
deploy_kernel=&lt;&lt;glance_deploy_kernel_id&gt;> -i 
deploy_ramdisk=&lt;&lt;glance_deploy_ramdisk_id&gt;&gt; -i cpu_arch=amd64 
ironic node-update &lt;&lt;node_id&gt;&gt; add properties/capabilities="boot_mode:bios,boot_option:local"</codeblock></li>
          <li>Execute the following command to register the port for the baremetal
            node:<codeblock>ironic port-create -a &lt;&lt;node_mac_id&gt;&gt; --local-link-connection switch_id="&lt;&lt;switch_id&gt;&gt;" --local-link-connection port_id="&lt;&lt;switch_port&gt;&gt;" --local-link-connection switch_info="ToR" -n &lt;&lt;node_id&gt;&gt;</codeblock></li>
          <li>Execute the following commands to create a tenant
            network:<codeblock>neutron net-create tenant-network
neutron subnet-create --name tenant-subnet --gateway 192.68.61.1 --allocation-pool start=192.68.61.100,end=192.68.61.200 tenant-network 192.68.61.0/24</codeblock></li>
          <li>Execute the following command to Provision the baremetal node:
            <codeblock>nova boot -nic</codeblock></li>
        </ol>
      </p>
    </section>
    <section>
      <title>Install the Infoblox patch</title>
      <p>
        <ol id="ol_tzr_mbf_xt">
          <li>Log into the HLM VM.</li>
          <li>Create a directory for the patch
              file:<codeblock>mkdir &lt;cloudname>/plugins</codeblock><p>Where &lt;cloudname> is the
              name of the cloud.</p></li>
          <li>Copy the <codeph>infoblox-baremetal.tar.gz</codeph> you downloaded in the
            Prerequisites to the <codeph>&lt;cloudname>/plugins</codeph> directory. </li>
          <li>Extract the file <codeblock>tar -zxvf infoblox-baremetal.tar.gz</codeblock></li>
          <li>Edit the <codeph>infoblox-baremetal/configure.json</codeph> as appropriate for your
            environment.</li>
          <li>In the <codeph>&lt;cloudname>/plugins</codeph> directory, execute the following
            command <codeblock>hlm plugin -c &lt;cloudname> -n infoblox-baremetal</codeblock></li>
        </ol>
      </p>
    </section>
    <section><title>Deploy Patches</title>Use the following steps to deploy required patches.<p>
        <ol id="ol_vl1_tqf_xt">
          <li>In the HLM VM, copy the <codeph>kenobi-config-patch.patch</codeph> you downloaded in
            the Prerequisites to the <codeph>/root/kenobi-configuration-processor</codeph>
            directory.</li>
          <li>Copy the  <codeph>kenobi-node-config.patch</codeph> you downloaded in the
            Prerequisites to the <codeph>/root/kenobi-node-configuration</codeph> directory.</li>
          <li>Navigate to the <codeph>/root/kenobi-configuration-processor</codeph> directory.</li>
          <li>Execute the following command to deploy the patch:
            <codeblock>patch -p1 &lt; kenobi-config-patch.patch</codeblock></li>
          <li>Navigate to the <codeph>/root/kenobi-node-configuration</codeph> directory.</li>
          <li>Execute the following command to deploy the patch:
            <codeblock>kenobi-node-config.patch</codeblock></li>
          <li>Execute the following command to integrate the patch into the installation
            environment:<codeblock>cd ~/cg-hlm/hlm-build
./hlm_prepare-env.sh</codeblock></li>
          <li>Enter <codeph>Exit</codeph> to close the HLM VM console.</li>
        </ol>
      </p></section>
    <section>
      <title>Patches for OpenStack packages:</title>
      <p> Use the following steps to deploy required patches:</p>
      <p>
        <ol id="ol_pbt_srf_xt">
          <li>In the HLM node, delete the existing Nova, Ironic and Ironic client packages from the
            HLM repo in the <codeph>/var/cache/hlm/repo/debian</codeph> directory:
            <codeblock>rm hoscg-nova-*
hoscg-ironic-* 
hoscg-python-ironicclient-*</codeblock></li>
        </ol>
      </p>
      <p> 2. Copy the new packages you downloaded in the Prerequisites to the
          <codeph>/var/cache/hlm/repo/debian</codeph> directory. </p>
      <p> 3. Change to the HLM repo:<codeblock>cd /var/cache/hlm/repo/debian</codeblock></p>
      <p> 4. Execute the following command
        <codeblock>/root/cg-hlm/dev-tools/dpkg-scanpackages --multiversion . /dev/null | gzip -9c &gt; Packages.gz</codeblock></p>
    </section>
    <section>
      <title>Configure Baremetal Cloud</title>
      <ol id="ol_syf_5sg_vt">
        <li>Log into the HLM VM.</li>
        <li>Copy the <codeph>ironic-standalone</codeph> template from the
            <codeph>/root/kenobi-node-configuration/dev-samples/ironic-standalone</codeph> to the
            <codeph>/opt/share/hlm/1/topologies/</codeph> directory. <p>If you execute the
              <codeph>hnewcloud -l</codeph> command, <codeph>ironic-standalone</codeph> is listed as
            a templates.</p></li>
        <li>Execute the following command to create a cloud on the baremetal
            controller:<codeblock>hnewCloud &lt;cloudname&gt; ironic-standalone</codeblock><p>Where:
              <codeph>&lt;cloudname></codeph> is an identifying name for the cloud and
              <codeph>ironic-standalone</codeph> is the deployment template.</p></li>
        <li>Edit the <codeph>/root/&lt;cloudname>/vars/ldap.json</codeph> file to disable
          LDAP.<codeblock>"ldap_enabled": 0</codeblock></li>
        <li>Edit the <codeph>/root/&lt;cloudname>/vars/ironic.json</codeph> file to configure VLAN
          ranges. Specify enough ranges so that the provisioning network can be on a separate VLAN
          than the tenant VLAN ranges.</li>
        <li>Copy the <codeph>/root/cg-hlm/dev-tools/ilopxebootonce.py</codeph> file to the
            <codeph>/root/&lt;cloudname></codeph> directory.</li>
        <li>Edit the environment.json file to specify the networks for the CLM (management), CAN,
          BM-CLM (baremetal management) networks as exposed to the HLM VM.</li>
        <li>Configure the node-provision.json to include three controllers in CCN control plane and
          1 baremetal controller (BAR) in the baremetal plane.</li>
        <li>Execute the following command to configure all controllers to boot from
          PXE.<codeblock>python ilopxebootonce.py node-provision.json</codeblock></li>
        <li>Provision the controller with base hLinux OS through
            cobbler:<codeblock>hprovision &lt;cloudname&gt;</codeblock><p>Where
              <codeph>&lt;cloudname></codeph> is the name of the baremetal cloud.</p>While
          hprovision is executing, you can follow the status by launching the Cobbler UI at
            <codeph>http://&lt;PXE STATIC IP&gt;/cobbler_web</codeph>.</li>
      </ol>
    </section>
    <section>
      <title>Generate Baremetal Cloud Definition</title>
      <p>In the HLM VM, execute the following in the cloud base
        directory:<codeblock>hcfgproc -d definition.json &lt;cloudname&gt;</codeblock></p>
      <p>Where <codeph>&lt;cloudname></codeph> is the name of the baremetal cloud.</p>
    </section>
    <section>
      <title>Deploy Baremetal Cloud</title>
    </section>
    <p>Use the following tasks to deploy the baremetal cloud.</p>
    <p><b>Initialize the Network on the Control Plane</b></p>
    <p>
      <ol id="ol_jhp_xm2_xt">
        <li>In the HLM VM, execute in the cloud base
          directory:<codeblock>hnetinit &lt;cloudname&gt;</codeblock>Where
            <codeph>&lt;cloudname></codeph> is the name of the baremetal cloud.</li>
        <li>Verify that all controllers are pingable
            using<codeblock>hnetping &lt;cloudname&gt;</codeblock><p>Where
              <codeph>&lt;cloudname></codeph> is the name of the baremetal cloud.</p></li>
      </ol>
    </p>
    <section>
      <p><b>Deploy Services and Bring up the Cloud</b></p>
      <p>In the HLM VM, execute the following command in the cloud base directory:</p>
      <p>
        <codeblock>hdeploy &lt;cloudname&gt;</codeblock>
      </p>
      <p>Where <codeph>&lt;cloudname></codeph> is the name of the baremetal cloud.</p>
      <p><b>Configure bridges on Baremetal Controller:</b></p>
      <ol id="ol_hjg_ntg_vt">
        <li>In the HLM VM, execute the following command to login to the baremetal controller:
          <codeblock>ssh cghelion@&lt;baremetal controller ip></codeblock></li>
        <li>On the baremetal controller node: <ol id="ol_ksr_rtg_vt">
            <li>Execute the following commands to create a bridge called <codeph>br-eth1</codeph>
              <!--(this will change to br-bm in later builds)--><codeblock>sudo ovs-vsctl add-br br-eth1
sudo ovs-vsctl add-port br-eth1 eth1 # assuming eth1 is the interface where BM-CLM is connected.
ifconfig eth1 up
ifconfig br-eth1 up</codeblock></li>
            <li>Execute the following command to restart the Open vSwitch agent (ovs-agent) on the
              controller.<codeblock>sudo service neutron-plugin-openvswitch-agent restart</codeblock></li>
          </ol></li>
        <li>Update ml2 configuration file with VLAN ranges and specify the BM-CLM VLAN in the
          bridge:
          <codeblock>[ml2_type_vlan]network_vlan_ranges = physnet1:&lt;VLAN_range></codeblock>Where
            <codeph>&lt;VLAN_range></codeph> is the range to use. For example:
            <codeph>3405:3413</codeph>.</li>
        <li>Edit the <codeph>/etc/neutron/neutron.conf</codeph> file to update credential
          secret:<codeblock>[ironic]
credential_secret = 1d0b38f0632af45c9a125aeb38c98418</codeblock></li>
        <li>Execute the following
          commands:<codeblock>service neutron-l3-agent restart
service neutron-dhcp-agent restart 
service neutron-metadata-agent restart 
service neutron-server restart 
service neutron-plugin-openvswitch-agent restart</codeblock></li>
        <li>Verify that the stackrcv3 and stackrc
          role:<codeblock>stackrcv3 role

export OS_USERNAME=admin 
export OS_PASSWORD=9YL8BgNAVZ7 
export OS_TENANT_NAME=admin 
export OS_PROJECT_NAME=admin 
export OS_PROJECT_DOMAIN_NAME=Default 
export OS_USER_DOMAIN_ID=default 
export OS_IDENTITY_API_VERSION=3 
export OS_AUTH_VERSION=3 
export OS_REGION_NAME=baremetal 
export OS_AUTH_URL=http://BASE-CCP-T2-VIP-KEY-API-NETCLM:35357/v3
export OS_CACERT=/etc/stunnel/ssl/hlm/certs/ca.crt 
export OS_ENDPOINT_URL=adminURL 

stackrc role - 

export OS_PASSWORD=9YL8BgNAVZ7 
export OS_USERNAME=admin 
export OS_TENANT_NAME=admin 
export OS_AUTH_URL=http://BASE-CCP-T2-VIP-KEY-API-NETCLM:35357/v2.0 
export OS_CACERT=/etc/stunnel/ssl/hlm/certs/ca.crt 
export OS_REGION_NAME=baremetal 
unset OS_PROJECT_DOMAIN_NAME 
unset OS_PROJECT_NAME 
unset OS_USER_DOMAIN_ID 
unset OS_IDENTITY_API_VERSION 
unset OS_AUTH_VERSION </codeblock></li>
        <li>Execute the following command to source the <codeph>stackrcv3</codeph>
          file:<codeblock>source stackrc</codeblock></li>
        <li>Execute the following commands to provision the networks:<ol id="ol_jf2_ws2_xt">
            <li>Create baremetal provisioning
              network:<codeblock>neutron net-create provisioning-network --provider:segmentation_id &lt;bm-clm-vlan-id> --provider:network_type vlan --provider:physical_network physnet1 </codeblock></li>
            <li>Create tenant vlan
              network:<codeblock>neutron net-create tenant-network</codeblock></li>
          </ol></li>
        <li>Edit the <codeph>/etc/ironic/ironic-conductor.conf</codeph> file to specify the
          following in the DEFAULT
            namespace:<codeblock>provisioning_network_uuid = &lt;prov-network-id> network_provider= neutron_plugin </codeblock><p>Where
              <codeph>&lt;prov-network-id></codeph> is the ID for the provisioning network,</p></li>
        <li>Execute the following command to create database schema tables for
          Ironic<codeblock>ironic-dbsync --config-file /etc/ironic/ironic-conductor.conf</codeblock></li>
        <li>Execute the following commands to restart Ironic
          services.<codeblock>service ironic-conductor restart
service ironic-api restart</codeblock></li>
        <li>Create an entry for the switch connected to the baremetal
          nodes:<codeblock>neutron switch-create --host &lt;switch_ip&gt; --username &lt;user&gt; --password &lt;password&gt; --type s5930 --id &lt;mac_address_of_switch&gt;
neutron subnet-create --name prov-subnet --gateway 192.168.61.1 --allocation-pool start=192.168.61.100,end=192.168.61.200 provisioning-network 192.168.61.0/24 
neutron subnet-create --name tenant-subnet --gateway 192.68.61.1 --allocation-pool start=192.68.61.100,end=192.68.61.200 tenant-network 192.68.61.0/24 </codeblock></li>
      </ol>
    </section>
    <section>
      <title>Upload image files</title>
      <ol>
        <li>Upload the User Image:
          <codeblock>glance image-create --name ubuntu-14.04.02-amd64-disk --is-public True --disk-format qcow2 --container-format bare &lt; ubuntu.qcow2</codeblock></li>
        <li>Upload the deploy images. To perform a Nova boot, upload the deploy images first
          uploaded in glance:
            <codeblock>glance image-create --name deploy-initrd --is-public True --disk-format ari --container-format ari &lt; ironic-deploy.initramfs
glance image-create --name deploy-kernel --is-public True --disk-format aki --container-format aki &lt; ironic-deploy.vmlinuz</codeblock><p>The
            tarball containing above images can be downloaded from
            http://15.213.237.200/ironic-agent-2.1.0001.tgz</p></li>
      </ol>
    </section>
    <section>
      <title>View System Details</title>
      <ol id="ol_yz4_452_xt">
        <li>View the active servers:<codeblock>nova list</codeblock><p>The output should appear
            similar to the
            following:<codeblock>+--------------------------------------+-------+--------+------------+-------------+----------------------------+
| ID                                   | Name  | Status | Task State | Power State | Networks                   |
+--------------------------------------+-------+--------+------------+-------------+----------------------------+
| 1b9f1f2b-4bcb-4363-bcf4-49d6a550460a | test1 | ACTIVE | -          | Running     | tenant-network=192.68.9.54 |
+--------------------------------------+-------+--------+------------+-------------+----------------------------+</codeblock></p></li>
        <li>View details about the
            server:<codeblock>nova show 1b9f1f2b-4bcb-4363-bcf4-49d6a550460a</codeblock><p>The
            output should appear similar to the
            following:<codeblock>+--------------------------------------+-------------------------------------------------------------------+
| Property                             | Value                                                             |
+--------------------------------------+-------------------------------------------------------------------+
| OS-EXT-AZ:availability_zone          | nova                                                              |
| OS-EXT-SRV-ATTR:host                 | BMCLOUD-RCP02-T1-M1-NETCLM                                        |
| OS-EXT-SRV-ATTR:hypervisor_hostname  | 5564213e-1e39-465b-be2e-5933c43650a0                              |
| OS-EXT-SRV-ATTR:instance_name        | instance-00000013                                                 |
| OS-EXT-STS:power_state               | 1                                                                 |
| OS-EXT-STS:task_state                | -                                                                 |
| OS-EXT-STS:vm_state                  | active                                                            |
| OS-SRV-USG:launched_at               | 2015-10-16T15:40:21.000000                                        |
| OS-SRV-USG:terminated_at             | -                                                                 |
| accessIPv4                           |                                                                   |
| accessIPv6                           |                                                                   |
| config_drive                         |                                                                   |
| created                              | 2015-10-16T15:34:21Z                                              |
| flavor                               | baremetal (6)                                                     |
| hostId                               | dde2258e0d29285416349bfb26c71c23915a510b24681675f32005c1          |
| id                                   | 1b9f1f2b-4bcb-4363-bcf4-49d6a550460a                              |
| image                                | ubuntu-14.04.02-amd64-disk (4b6b5bbe-39c8-4398-b2e6-1854496ef28f) |
| key_name                             | -                                                                 |
| metadata                             | {}                                                                |
| name                                 | test1                                                             |
| os-extended-volumes:volumes_attached | []                                                                |
| progress                             | 0                                                                 |
| security_groups                      | default                                                           |
| status                               | ACTIVE                                                            |
| tenant-network network               | 192.68.9.54                                                       |
| tenant_id                            | c288a2816237465c8ea6efc16dc05b88                                  |
| updated                              | 2015-10-16T15:40:21Z                                              |
| user_id                              | 2c34ae0b4cbd47a193a597bf5248c2db                                  |
+--------------------------------------+-------------------------------------------------------------------+</codeblock></p></li>
        <li>View details about the network
            <codeblock>neutron net-show tenant-network</codeblock><p>The output should appear
            similar to the
            following:<codeblock>+---------------------------+--------------------------------------+
| Field                     | Value                                |
+---------------------------+--------------------------------------+
| admin_state_up            | True                                 |
| id                        | 2c4f260c-507a-47a7-a0f4-7faebfe312b0 |
| mtu                       | 0                                    |
| name                      | tenant-network                       |
| provider:network_type     | vlan                                 |
| provider:physical_network | physnet1                             |
| provider:segmentation_id  | 102                                  |
| router:external           | False                                |
| shared                    | True                                 |
| status                    | ACTIVE                               |
| subnets                   | 6a952e6b-903f-41db-b31d-62dc52c65dd0 |
| tenant_id                 | c288a2816237465c8ea6efc16dc05b88     |
+---------------------------+--------------------------------------+</codeblock></p></li>
        <li>View detailed information about a
            node:<codeblock>ironic --insecure node-show 5564213e-1e39-465b-be2e-5933c43650a0</codeblock><p>The
            output should appear similar to the
            following:<codeblock>+------------------------+--------------------------------------------------------------------------+
| Property               | Value                                                                    |
+------------------------+--------------------------------------------------------------------------+
| target_power_state     | None                                                                     |
| extra                  | {}                                                                       |
| last_error             | None                                                                     |
| updated_at             | 2015-10-19T05:19:14+00:00                                                |
| maintenance_reason     | None                                                                     |
| provision_state        | active                                                                   |
| uuid                   | 5564213e-1e39-465b-be2e-5933c43650a0                                     |
| console_enabled        | False                                                                    |
| target_provision_state | None                                                                     |
| maintenance            | False                                                                    |
| inspection_started_at  | None                                                                     |
| inspection_finished_at | None                                                                     |
| power_state            | power on                                                                 |
| driver                 | pxe_ipmitool                                                             |
| reservation            | None                                                                     |
| properties             | {u'memory_mb': 8192, u'local_gb': 40, u'cpus': 8, u'capabilities':       |
|                        | u'boot_mode:bios,boot_option:local'}                                     |
| instance_uuid          | 1b9f1f2b-4bcb-4363-bcf4-49d6a550460a                                     |
| name                   | None                                                                     |
| driver_info            | {u'ipmi_terminal_port': 9091, u'ipmi_username': u'admin',           |
|                        | u'deploy_kernel': u'8c21423c-eedf-4f9d-84c5-25e03f35fd76',               |
|                        | u'ipmi_address': u'10.1.67.60', u'deploy_ramdisk': u'93de142f-62a3-4a7e- |
|                        | 8b94-2145c860523a', u'ipmi_password': u'******'}                         |
| created_at             | 2015-10-16T04:10:30+00:00                                                |
| driver_internal_info   | {u'clean_steps': None, u'agent_url': u'http://10.243.176.45:9999',       |
|                        | u'root_uuid_or_disk_id': u'0x00000000', u'is_whole_disk_image': True,    |
|                        | u'agent_last_heartbeat': 1445009962}                                     |
| chassis_uuid           |                                                                          |
| instance_info          | {u'root_gb': u'40', u'deploy_key': u'9BLPWR1PDTX3S5IYPNMP9FGZ9WFFIAJD',  |
|                        | u'image_source': u'4b6b5bbe-39c8-4398-b2e6-1854496ef28f', u'swap_mb':    |
|                        | u'0', u'capabilities': u'{"boot_option": "local"}'}                      |
+------------------------+--------------------------------------------------------------------------+</codeblock></p></li>
        <li>View detailed information about a
            port:<codeblock>ironic --insecure port-show 0142fb06-a425-4b6d-a41e-481a5b54b8a2</codeblock><p>The
            output should appear similar to the
            following:<codeblock>+-----------------------+----------------------------------------------------------------------+
| Property              | Value                                                                |
+-----------------------+----------------------------------------------------------------------+
| local_link_connection | {u'switch_info': u'ToR', u'port_id': u'Ten-GigabitEthernet1/0/12:2', |
|                       | u'switch_id': u'aa:bb:cc:dd:ee:ff'}                                  |
| node_uuid             | 5564213e-1e39-465b-be2e-5933c43650a0                                 |
| uuid                  | 0142fb06-a425-4b6d-a41e-481a5b54b8a2                                 |
| extra                 | {u'vif_port_id': u'ce2014de-cf35-44a4-9255-2975c99b7f1c'}            |
| pxe_enabled           | True                                                                 |
| created_at            | 2015-10-16T13:41:48+00:00                                            |
| updated_at            | 2015-10-16T15:40:03+00:00                                            |
| address               | f0:92:1c:05:5b:60                                                    |
| portgroup_uuid        |                                                                      |
+-----------------------+----------------------------------------------------------------------+
[R2N6640S1FTC]display current-configuration interface Ten-GigabitEthernet1/0/12:
2
#
interface Ten-GigabitEthernet1/0/12:2
port link-mode bridge
description CUST-5564213e-1e39-465b-be2e-5933c43650a0-host
port access vlan 102
stp edged-port
#
return</codeblock></p></li>
        <li>View detailed information about an
            instance:<codeblock>glance image-list</codeblock><p>The output should appear similar to
            the
            following:<codeblock>+--------------------------------------+----------------------------+-------------+------------------+-----------+--------+
| ID                                   | Name                       | Disk Format | Container Format | Size      | Status |
+--------------------------------------+----------------------------+-------------+------------------+-----------+--------+
| 93de142f-62a3-4a7e-8b94-2145c860523a | deploy-initrd              | ari         | ari              | 227564499 | active |
| 8c21423c-eedf-4f9d-84c5-25e03f35fd76 | deploy-kernel              | aki         | aki              | 3204496   | active |
| 4b6b5bbe-39c8-4398-b2e6-1854496ef28f | ubuntu-14.04.02-amd64-disk | qcow2       | bare             | 372047872 | active |
+--------------------------------------+----------------------------+-------------+------------------+-----------+--------+</codeblock></p></li>
        <li>View detailed information about a
            hypervisor:<codeblock>nova hypervisor-show 5564213e-1e39-465b-be2e-5933c43650a0</codeblock><p>The
            output should appear similar to the
            following:<codeblock>+-------------------------+--------------------------------------+
| Property                | Value                                |
+-------------------------+--------------------------------------+
| cpu_info                |                                      |
| current_workload        | 0                                    |
| disk_available_least    | 0                                    |
| free_disk_gb            | 0                                    |
| free_ram_mb             | 0                                    |
| host_ip                 | 192.168.102.8                        |
| hypervisor_hostname     | 5564213e-1e39-465b-be2e-5933c43650a0 |
| hypervisor_type         | ironic                               |
| hypervisor_version      | 1                                    |
| id                      | 4                                    |
| local_gb                | 40                                   |
| local_gb_used           | 40                                   |
| memory_mb               | 8192                                 |
| memory_mb_used          | 8192                                 |
| running_vms             | 1                                    |
| service_disabled_reason | -                                    |
| service_host            | BMCLOUD-RCP02-T1-M1-NETCLM           |
| service_id              | 19                                   |
| state                   | up                                   |
| status                  | enabled                              |
| vcpus                   | 8                                    |
| vcpus_used              | 8                                    |
+-------------------------+--------------------------------------+</codeblock></p></li>
        <li>View a list of all running services.<codeblock>nova service-list</codeblock><p>
            <codeblock>+----+------------------+----------------------------+----------+---------+-------+----------------------------+-----------------+
| Id | Binary           | Host                       | Zone     | Status  | State | Updated_at                 | Disabled Reason |
+----+------------------+----------------------------+----------+---------+-------+----------------------------+-----------------+
| 1  | nova-cert        | BMCLOUD-RCP02-T1-M1-NETCLM | internal | enabled | up    | 2015-10-19T05:39:46.000000 | -               |
| 4  | nova-conductor   | BMCLOUD-RCP02-T1-M1-NETCLM | internal | enabled | up    | 2015-10-19T05:39:41.000000 | -               |
| 13 | nova-scheduler   | BMCLOUD-RCP02-T1-M1-NETCLM | internal | enabled | up    | 2015-10-19T05:39:43.000000 | -               |
| 16 | nova-consoleauth | BMCLOUD-RCP02-T1-M1-NETCLM | internal | enabled | up    | 2015-10-19T05:39:47.000000 | -               |
| 19 | nova-compute     | BMCLOUD-RCP02-T1-M1-NETCLM | nova     | enabled | up    | 2015-10-19T05:39:41.000000 | -               |
+----+------------------+----------------------------+----------+---------+-------+----------------------------+-----------------+</codeblock>
          </p></li>
        <li>View nformation of a given port.
            <codeblock>neutron port-show ce2014de-cf35-44a4-9255-2975c99b7f1c</codeblock><p>The
            output should appear similar to the
            following:<codeblock>+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Field                 | Value                                                                                                                                                                                                              |
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| admin_state_up        | True                                                                                                                                                                                                               |
| allowed_address_pairs |                                                                                                                                                                                                                    |
| binding:host_id       | 5564213e-1e39-465b-be2e-5933c43650a0                                                                                                                                                                               |
| binding:profile       | {"local_link_information": [{"switch_info": "ToR", "port_id": "Ten-GigabitEthernet1/0/12:2", "switch_id": "aa:bb:cc:dd:ee:ff"}]}                                                                                   |
| binding:vif_details   | {"port_filter": false}                                                                                                                                                                                             |
| binding:vif_type      | hp-ironic                                                                                                                                                                                                          |
| binding:vnic_type     | baremetal                                                                                                                                                                                                          |
| commit                | False                                                                                                                                                                                                              |
| device_id             | 1b9f1f2b-4bcb-4363-bcf4-49d6a550460a                                                                                                                                                                               |
| device_owner          | baremetal:none                                                                                                                                                                                                     |
| extra_dhcp_opts       |                                                                                                                                                                                                                    |
| fixed_ips             | {"subnet_id": "6a952e6b-903f-41db-b31d-62dc52c65dd0", "ip_address": "192.68.9.54"}                                                                                                                                 |
| id                    | ce2014de-cf35-44a4-9255-2975c99b7f1c                                                                                                                                                                               |
| mac_address           | f0:92:1c:05:5b:60                                                                                                                                                                                                  |
| name                  |                                                                                                                                                                                                                    |
| network_id            | 2c4f260c-507a-47a7-a0f4-7faebfe312b0                                                                                                                                                                               |
| security_groups       | 50a66dab-7b87-45bd-96e3-f90b988e541f                                                                                                                                                                               |
| status                | ACTIVE                                                                                                                                                                                                             |
| switch:hardware_id    | 5564213e-1e39-465b-be2e-5933c43650a0                                                                                                                                                                               |
| switch:ports          | {"name": "ToR", "hardware_id": "5564213e-1e39-465b-be2e-5933c43650a0", "switch_id": "aa:bb:cc:dd:ee:ff", "port": "Ten-GigabitEthernet1/0/12:2", "mac_address": null, "id": "9e98b38d-22f8-4d45-bbc2-972eb709ee30"} |
| tenant_id             | c288a2816237465c8ea6efc16dc05b88                                                                                                                                                                                   |
| trunked               | False                                                                                                                                                                                                              |
+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</codeblock></p></li>
      </ol>
    </section>
    <section id="next-step">
      <title>Next Steps</title>
      <p><xref href="carrier-grade-install-post.dita#topic1107">Post-Installation Tasks</xref></p>
    </section>
  </body>
</topic>
