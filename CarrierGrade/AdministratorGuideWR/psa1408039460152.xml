<?xml version="1.0" encoding="UTF-8"?>


<!DOCTYPE topic   PUBLIC "-//OASIS//DTD DITA Topic//EN" "http://docs.oasis-open.org/dita/v1.1/OS/dtd/topic.dtd" >


<topic id="psa1408039460152" xml:lang="en-us">


<!-- Modification History


        


-->


    <title>Adding an SNMP Community String</title>


    <shortdesc >To enable SNMP services you need to define one or more SNMP community strings using


        the command line interface.</shortdesc>


    <prolog>


        <author >Pedro Sanchez</author>


    </prolog>


    <body>


        <section id="section_N1001F_N1001C_N10001" >


            <p >No default community strings are defined on HP Helion OpenStack Carrier Grade after the


                initial commissioning of the cluster. This means that no SNMP operations are enabled


                by default. </p>


            <p >The following exercise illustrates the system commands available to manage and query


                SNMP community strings. It uses the string <term >commstr1</term> as an example.</p>


        </section>


        <section id="section_N10030_N1001C_N10001" >


            <p >All commands must be executed on the active controller's console,


                which can be accessed using the OAM floating IP address. You must acquire Keystone


                    <b >admin</b> credentials in order to execute


                the commands.</p>


        </section>


        <ol>


            <li id="li_N10040_N1003D_N1001C_N10001" >


                <p >Add the SNMP community string <term >commstr1</term> to the system.</p>


                


                    <codeblock ><systemoutput >~(keystone_admin)$ </systemoutput><userinput >system snmp-comm-add -c commstr1


</userinput><systemoutput >+-----------+--------------------------------------+


| Property  | Value                                |


+-----------+--------------------------------------+


| access    | ro                                   |


| uuid      | eccf5729-e400-4305-82e2-bdf344eb868d |


| community | commstr1                             |


| view      | .1                                   |


+-----------+--------------------------------------+</systemoutput>


</codeblock>


                


                


                    <p >The following are attributes associated with the new community string:</p>


                    <dl>


                        <dlentry >


                            <dt >access</dt>


                            <dd >


                                <p >The SNMP access type. In HP Helion OpenStack Carrier Grade all


                                    community strings provide read-only access.</p>


                            </dd>


                        </dlentry>


                        <dlentry >


                            <dt >uuid</dt>


                            <dd >


                                <p >The UUID associated with the community string.</p>


                            </dd>


                        </dlentry>


                        <dlentry >


                            <dt >community</dt>


                            <dd >


                                <p >The community string value.</p>


                            </dd>


                        </dlentry>


                        <dlentry >


                            <dt >view</dt>


                            <dd >


                                <p >The is always the full MIB tree.</p>


                            </dd>


                        </dlentry>


                    </dl>


                


            </li>


            <li id="li_N100AA_N1003D_N1001C_N10001" >


                <p >List available community strings.</p>


                


                    <codeblock ><systemoutput >~(keystone_admin)$ </systemoutput><userinput >system snmp-comm-list</userinput>


<systemoutput >+----------------+--------------------+--------+


| SNMP community | View               | Access |


+----------------+--------------------+--------+


| commstr1       | .1                 | ro     |


+----------------+--------------------+--------+</systemoutput>


</codeblock>


                


            </li>


            <li id="li_N100C5_N1003D_N1001C_N10001" >


                <p >Query details of a specific community string.</p>


                


                    <codeblock ><systemoutput >~(keystone_admin)$ </systemoutput><userinput >system snmp-comm-show commstr1</userinput>


<systemoutput >+------------+--------------------------------------+


| Property   | Value                                |


+------------+--------------------------------------+


| access     | ro                                   |


| created_at | 2014-08-14T21:12:10.037637+00:00     |


| uuid       | eccf5729-e400-4305-82e2-bdf344eb868d |


| community  | commstr1                             |


| view       | .1                                   |


+------------+--------------------------------------+</systemoutput>


</codeblock>


                


            </li>


            <li id="li_N100E0_N1003D_N1001C_N10001" >


                <p >Delete a community string.</p>


                


                    <codeblock ><systemoutput >~(keystone_admin)$ </systemoutput><userinput >system snmp-comm-delete commstr1</userinput>


<systemoutput >Deleted community commstr1</systemoutput></codeblock>


                


            </li>


        </ol>





            <p >Community strings in HP Helion OpenStack Carrier Grade provide query access to any SNMP


                monitor workstation that can reach the controller's OAM address on UDP port 161.</p>


            <p >You can verify SNMP access using any monitor tool. For example, the freely available


                command <i>snmpwalk</i> can be issued from any host to list the state of


                all SNMP Object Identifiers (OID):</p>


            <codeblock ><systemoutput >$ </systemoutput><userinput >snmpwalk -v 2c -c commstr1 10.10.10.100 &gt; oids.txt</userinput></codeblock>


            <p >In this example, 10.10.10.100 is the HP Helion OpenStack Carrier Grade's OAM floating IP address. The


                output, which is a large file, is redirected to the file


                    <filepath >oids.txt</filepath>.</p>


        


    </body>


</topic>