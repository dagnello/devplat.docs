<?xml version="1.0" encoding="UTF-8"?>


<!DOCTYPE topic   PUBLIC "-//OASIS//DTD DITA Topic//EN" "http://docs.oasis-open.org/dita/v1.1/OS/dtd/topic.dtd" >


<topic id="psa1414084582159" xml:lang="en-us">


<!-- Modification History


        


-->


    <title>Installing Patches Locally</title>


    <shortdesc />


    <prolog>


        <author >Pedro Sanchez</author>


    </prolog>


    <body>


        <section id="section_N1001E_N1001B_N10001" >


            <p >When installing the HP Helion OpenStack Carrier Grade software on new


                hardware, it is recommended that you install the latest available patches on


                    <b >controller-0</b> before running the


                    <i>region_config</i> script, and before installing


                the software on other hosts. This ensures that:</p>


            <ul id="ul_gsq_1ht_vp">


                <li >


                    <p >The software on <b >controller-0</b>, and all other hosts, is up to date when the


                        cluster comes alive.</p>


                </li>


                <li >


                    <p >You reduce installation time by avoiding patching the system


                        right after an out-of-date software installation is complete.</p>


                </li>


            </ul>


            <p >This exercise assumes that the patches to install are available on a USB flash drive,


                or from a server reachable by <b >controller-0</b>.</p>


        </section>


        <ol>


            <li id="li_N1004F_N1004C_N1001B_N10001" >


                <p >Initialize <b >controller-0</b>.</p>


                


                    <p >Use the HP Helion OpenStack Carrier Grade bootable ISO image


                        to initialize <b >controller-0</b>. </p>


                


                


                    <p >This li takes you to the point where you use the console


                        port to log in to <b >controller-0</b> as


                        user <b >wrsroot</b>.</p>


                


            </li>


            <li id="li_N1007C_N1004C_N1001B_N10001" >


                <p >Copy the patches to the local file system.</p>


                


                    <p >If the patches are on a USB flash drive, copy them from the


                        appropriate mount point to some directory in the local file system. For


                        example:</p>


                


                


                    <codeblock ><systemoutput >$ </systemoutput><userinput >mkdir /tmp/patches</userinput>


<systemoutput >$ </systemoutput><userinput >cp /media/wrsroot/data/PATCH_0001.patch /tmp/patches</userinput></codeblock>


                


                


                    <p >If the patches are available from a remote server, you need


                        to manually initialize a suitable Ethernet interface first, and then


                        transfer them to the local file system. For example:</p>


                    <codeblock ><systemoutput >$ </systemoutput><userinput >mkdir /tmp/patches</userinput>


<systemoutput >$ </systemoutput><userinput >sudo ifconfig eth3 192.168.1.100 netmask 255.255.255.0 up</userinput>


<systemoutput >$ </systemoutput><userinput >scp \


me@192.168.1.150:/usr/local/patches/PATCH_0001.patch \


/tmp/patches</userinput></codeblock>


                


                


                    <p >All patches are now in the directory <filepath >/tmp/patches</filepath>.</p>


                


            </li>


            <li id="li_N100CC_N1004C_N1001B_N10001" >


                <p >Populate the patch storage area.</p>


                


                    <p >Upload the patches using the command <i>wrs-patch upload</i> or


                            <i>wrs-patch upload-dir</i> as described in <xref href="psa1410446807133.xml" />.</p>


                


            </li>


            <li id="li_N1011E_N10059_N1001E_N10001" >


                <p >Apply the patches.</p>


                


                    <p >Apply the patches using the command <i>wrs-patch apply


                        --all</i>.</p>


                


                


                    <p >The patches are now in the software updates repository, ready to be


                        installed.</p>


                


            </li>


            <li id="li_N100E9_N1004C_N1001B_N10001" >


                <p >Install the patches locally.</p>


                


                    <codeblock ><systemoutput >$ </systemoutput><userinput >sudo wrs-patch install-local</userinput>


<systemoutput >Patch installation is complete.


Please reboot before continuing with configuration.</systemoutput></codeblock>


                


                


                    <p >This command installs all applied patches on <b >controller-0</b>.</p>


                


            </li>


            <li id="li_N1010B_N1004C_N1001B_N10001" >


                <p >Reboot <b >controller-0</b>.</p>


                


                    <p >You must reboot the controller to ensure that it is running with the software


                        fully patched.</p>


                


            </li>


            <li id="li_N10120_N1004C_N1001B_N10001" >


                <p >Continue with the HP Helion OpenStack Carrier Grade software installation.</p>


                


                    <p >Log in again as <b 


                            >wrsroot</b> and continue with the software installation by


                        running the <i>region_config</i> script. See


                            <xref


                            href="http://docs-staging.hpcloud.com/DRAFT/#CarrierGrade/Installation/carrier-grade-install-pb-overview.html"


                            format="html" scope="external">Installing HP Helion OpenStack Carrier


                            Grade</xref> for further details and directions.</p>


                


            </li>


        </ol>





            <p >Once all hosts in the cluster are initialized, they are all running


                fully patched software. The HP Helion OpenStack Carrier Grade cluster is up to date.</p>


        


    </body>


</topic>