<?xml version="1.0" encoding="UTF-8"?>


<!DOCTYPE topic   PUBLIC "-//OASIS//DTD DITA Topic//EN" "http://docs.oasis-open.org/dita/v1.1/OS/dtd/topic.dtd" >


<topic id="jow1418228891859" xml:lang="en-us">


<!-- Modification History


        


-->


    <title>Creating an Up/Down Autoscaling Resource</title>


    <shortdesc >The <filepath >VMAutoscaling.yaml</filepath> template illustrates the


        use of a template to create an up/down autoscaling resource.</shortdesc>


    <prolog>


        <author />


    </prolog>


    <body>


        <section id="section_N10023_N10020_N10001" >


            <p >This HOT template creates a VM instance with vCPU autoscaling. The number of online


                vCPUS for the instance is scaled up or down depending on vCPU utilization. The


                scaling range (minimum and maximum number of vCPUs) is determined by the launch


                flavor. </p>


            <p >For up/down scaling, the CPU measurement uses a <b >vcpu_util</b> meter, which takes into account the


                current number of online vCPUs when measuring usage. This is in contrast to the


                    <b >cpu_util</b> meter, which always uses


                the maximum number of vCPUs. Using <b >cpu_util</b> for up/down scaling would produce an inaccurate


                usage/availability ratio if any vCPUs were offline, since it assumes all VCPUs are


                available.</p>


            <p >The VM image selected for launch must be capable of scaling. For more information


                about VM scaling, see <xref href="jow1417813748326.xml" />.</p>


        </section>


        <ol>


            <li id="li_N10077_N10074_N10020_N10001" >


                <p >Collect the required parameters.</p>


                <ol id="ol_wqc_mlv_34">


                    <li >


                        <p conref="jow1404333809730.xml#jow1404333809730/locate-flavor" />


                    </li>


                    <li >


                        <p conref="jow1404333809730.xml#jow1404333809730/locate-keypair" />


                    </li>


                    <li >


                        <p conref="jow1404333809730.xml#jow1404333809730/locate-image" />


                    </li>


                    <li >


                        <p >On the <menucascade >


                                <uicontrol >Admin</uicontrol>


                                <uicontrol >System Panel</uicontrol>


                                <uicontrol >Networks</uicontrol>


                            </menucascade> page, obtain the <uicontrol >Name</uicontrol> of the private network.</p>


                    </li>


                    <li >


                        <p conref="jow1404333809730.xml#jow1404333809730/locate-user" />


                    </li>


                </ol>


            </li>


            <li conref="jow1404832975002.xml#jow1404832975002/open-stack-list" id="li_N10096_N10059_N10020_N10001" >


                <p />


            </li>


            <li conref="jow1404833049288.xml#jow1404833049288/launch-stack" id="li_N1009D_N10059_N10020_N10001" >


                <p />


            </li>


            <li id="li_N100A4_N10059_N10020_N10001" >


                <p >Select<uicontrol > File</uicontrol>, then click


                        <uicontrol >Browse</uicontrol> and select <filepath >VMAutoScaling.yaml</filepath> from the local disk.</p>


            </li>


            <li id="li_N100DC_N10074_N10020_N10001" >


                <p >Adjust the parameters in the <wintitle >Launch Stack</wintitle> form to meet


                    your requirements.</p>


                            <p ><uicontrol >KeyName</uicontrol></p>




                            <p >The <uicontrol >KeyPair</uicontrol> name from


                                    the<wintitle > Access &amp; Security</wintitle> page.</p>





                            <p ><uicontrol >TenantUserID</uicontrol></p>

                            <p >The tenant user ID associated with the instance


                                launch. Scaling of the  instance resources can only be performed by


                                the tenant associated with the launch.</p>




                            <p ><i>FlavorName</i></p>



                            <p >The <uicontrol >Flavor Name</uicontrol> from the


                                    <wintitle >Flavors</wintitle> page.</p>



                            <p ><uicontrol >ImageName</uicontrol></p>




                            <p >The <uicontrol >Image Name</uicontrol> from the


                                    <wintitle >Images</wintitle> page.</p>




                            <p ><uicontrol >PrivateNetName</uicontrol></p>


                            <p >The <uicontrol >Name</uicontrol>


                                from the <wintitle >Network Overview</wintitle>


                                page.</p>



                            <p ><uicontrol >InstanceName</uicontrol></p>



                            <p >The name of the instance to create.</p>



                            <p ><uicontrol >CustomMeterName</uicontrol></p>



                            <p >The name of a custom Ceilometer metric to store. For


                                information about custom metrics, see <xref href="jow1404916152577.xml" />.</p>




                            <p ><uicontrol >CustomMeterUnit</uicontrol></p>


                            <p >The unit of measurement to display for the custom


                                metric; for example, 'Percent'.</p>



                            <p ><uicontrol >MetricHighWaterMark</uicontrol></p>




                            <p >The value that triggers autoscaling to add


                                resources.</p>



                            <p ><uicontrol >MetricLowWaterMark</uicontrol></p>




                            <p >The value that triggers autoscaling to remove


                                resources.</p>


            </li>


        </ol>


    </body>


</topic>