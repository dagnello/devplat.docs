<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "http://docs.oasis-open.org/dita/v1.1/OS/dtd/topic.dtd" >
<topic id="jow1425584170078" xml:lang="en-us">
<!-- Modification History
        
-->
    <title>Configuring Endpoint IP Addresses Using the CLI</title>
    <shortdesc>You can configure a data interface on a compute node with an endpoint
        address using CLI commands.</shortdesc>
    <prolog><author/>
        <author/>
    </prolog>
    <body>
        
            <p>For VXLAN connectivity between VMs, the compute nodes that host the VMs must be
                configured with endpoint IP addresses.</p>
        
        
            <p>To make interface changes, you must lock the compute node first.</p>
        
        <ol>
             
                <li>Lock the compute node.</li>
            
             
                <li>Set the interface to support an IPv4 or IPv6 address, or both. 
                
                    <codeblock>~(keystone_admin)$ system host-if-modify <varname>node</varname> <varname>ifname</varname> --ipv4-mode=<varname>ipv4mode</varname> --ipv6-mode=<varname>ipv6mode</varname></codeblock>
                    <p>where</p>
                    <parml>
                        <plentry>
                            <pt>node</pt>
                            <pd>
                                <p>is the name or UUID of the compute node</p>
                            </pd>
                        </plentry>
                        <plentry>
                            <pt>ifname</pt>
                            <pd>
                                <p>is the name of the interface</p>
                            </pd>
                        </plentry>
                        <plentry>
                            <pt>ipv4mode</pt>
                            <pd>
                                <p>is either <codeph>disabled</codeph> or<codeph>
                                        static</codeph></p>
                            </pd>
                        </plentry>
                        <plentry>
                            <pt>ipv6mode</pt>
                            <pd>
                                <p>is either <codeph>disabled</codeph> or<codeph>
                                        static</codeph></p>
                            </pd>
                        </plentry>
                    </parml>
                
                </li>
             
                <li>Add an IPv4 or IPv6 address to the interface.
                
                    <codeblock>~(keystone_admin)$ system host-addr-add <varname>node</varname> <varname>ifname</varname> <varname>ip_address</varname> <varname>prefix</varname></codeblock>
                    <p>where</p>
                    <parml>
                        <plentry>
                            <pt>node</pt>
                            <pd>
                                <p>is the name or UUID of the compute node</p>
                            </pd>
                        </plentry>
                        <plentry>
                            <pt>ifname</pt>
                            <pd>
                                <p>is the name of the interface</p>
                            </pd>
                        </plentry>
                        <plentry>
                            <pt>ip_address</pt>
                            <pd>
                                <p>is an IPv4 or IPv6 address</p>
                            </pd>
                        </plentry>
                        <plentry>
                            <pt>prefix</pt>
                            <pd>
                                <p>is the netmask length for the address</p>
                            </pd>
                        </plentry>
                    </parml>
                    <p>To delete an address, use the following commands:</p>
                    <codeblock>~(keystone_admin)$ system host-addr-list</codeblock>
                    <p>This displays the UUIDs of existing addresses.</p>
                    <codeblock>~(keystone_admin)$ system host-addr-delete <varname>uuid</varname></codeblock>
                    <p>where <codeph>uuid</codeph> is the UUID of the address.</p>
                
                </li>
             
                <li>Unlock the compute node and wait for it to become available.</li>
            
        </ol>
    </body>
</topic>