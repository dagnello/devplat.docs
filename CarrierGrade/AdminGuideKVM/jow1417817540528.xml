<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "http://docs.oasis-open.org/dita/v1.1/OS/dtd/topic.dtd" >
<topic id="jow1417817540528" xml:lang="en-us">
<!-- Modification History
        
-->
    <title>Setting the CPU Scaling Range</title>
    <shortdesc>You can define the maximum and minimum CPU resources available to an instance by
        using a flavor.</shortdesc>
    <prolog><author/>
        <author/>
    </prolog>
    <body>
        
            <ul id="ul_vsn_b2w_3q">
                <li>
                    <p>To set the maximum number of VCPUs for an instance, define a
                        flavor with the required number of vCPUs.</p>
                </li>
                <li>
                    <p>To set the minimum number of vCPUs, edit the flavor to
                        include an Extra Spec. The minimum cannot be less than one.</p>
                </li>
            </ul>
            <p>You can use the web administration interface or the CLI to edit the flavor. The CLI
                parameter for setting the minimum number of CPUs is as follows:</p>
            <codeblock>hw:wrs:min_vcpus=<varname>min</varname></codeblock>
            <p>where <codeph>min</codeph> is the minimum number of CPUs.</p>
            <p>For example:</p>
            <codeblock>~(keystone_admin)$ nova flavor-key <varname>flavor_name</varname> set hw:wrs:min_vcpus=<varname>integer_value</varname></codeblock>
            <p>For complete information about working with flavors, see <xref href="jow1404333663095.xml"/>.</p>
        
        
            <p>For CPU scaling to take effect, the <codeph>CPU Policy</codeph> for the VM
                must be set to <codeph>Dedicated</codeph>. For more information, see <xref href="jow1429544935360.xml"/>.</p>
        
        <ol>
             
                <li>Display the <b>Flavors</b>
                    list.</li>
                
                    <p>Select the <b>Admin</b> menu in the web
                        administration interface, and then in the <b>System
                            Panel</b> section of the menu, click <b>Flavors</b>. </p>
                    
                        <image href="jow1404333666903.image" id="image_ars_plw_3q" width="580px">
                            <alt>i-ccs-setup-flavors-3.png</alt>
                        </image>
                    
                
            
             
                <li>If necessary, create a new flavor. </li>
                
                    <p>If a suitable flavor already exists, you can edit it to
                        specify the maximum and minimum vCPUs.</p>
                    <p> If no suitable flavor exists, you can create a new flavor by
                        clicking <b>Create Flavor</b> in the list to
                        open the <b>Create Flavor</b> dialog box.</p>
                    
                        <image href="jow1404333665262.image" id="image_nnv_5lw_3q" width="392px">
                            <alt>i-ccs-setup-flavors-2.png</alt>
                        </image>
                    
                    <p>Assign a <b>Name</b> for the flavor, and then save the flavor
                        by clicking <b>Create Flavor</b> in the dialog box.</p>
                
            
             
                <li>Specify the maximum number of vCPUs for the instance.</li>
                
                    <p>In the <b>Flavors</b> list, locate the flavor,
                        and then click <b>Edit</b> to open the <b>Edit
                            Flavor</b> dialog box. </p>
                    <p>In the <b>vCPU</b> field,
                        enter the maximum number of vCPUs.</p>
                    <p>When you are finished editing, click <b>Save</b> to return to
                        the <b>Flavors</b> list.</p>
                
            
             
                <li>Specify the minimum number of vCPUs for the instance.</li>
                
                    <p>You can specify the minimum number of vCPUs by adding an
                        Extra Spec for the flavor.</p>
                
                 <ol>
                    
                        <li>In the <b>Flavors</b> list, click the <b>Flavor
                                Name</b> for the flavor to open the <b>Flavor
                                Details</b> dialog box.</li>
                        
                            
                                <image href="jow1418139926596.image" id="image_u4r_znw_3q">
                                    <alt>HP Helion OpenStack Carrier Grade Flavor Details with 4
                                        CPUs</alt>
                                </image>
                            
                        
                    
                    
                        <li>On the <b>Extra Specs</b> tab, click
                                <b>Create</b>.</li>
                        
                            
                                <image href="psa1413822186171.image" id="image_tjf_4pw_3q" width="352px">
                                    <alt>VM Flavor Extra Specs Tab</alt>
                                </image>
                            
                        
                    
                    
                        <li>In the <b>Create Flavor Extra
                                Spec</b> dialog, select <b>Minimum
                                Number of CPUs</b> from the <b>Extra
                                Spec</b> drop-down menu.</li>
                        
                            
                                <image href="jow1418140984681.image" id="image_wrh_gqw_3q" width="393px">
                                    <alt>HP Helion OpenStack Carrier Grade Create Flavor Extra Spec
                                        dialog</alt>
                                </image>
                            
                        
                    
                    
                        <li>In the <b>Key</b> field, enter
                                <keyword>wrs:min_vcpus</keyword>.</li>
                    
                    
                        <li>In the <b>Value</b> field, enter the minimum allowed
                            number of vCPUs for the flavor.</li>
                    
                    
                        <li>Click <b>Create</b>.</li>
                    
                </substeps>
            
        </ol>
    </body>
</topic>