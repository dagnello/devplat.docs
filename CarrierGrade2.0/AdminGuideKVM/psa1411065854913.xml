<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "http://docs.oasis-open.org/dita/v1.1/OS/dtd/topic.dtd" >
<topic xml:lang="en-us" id="psa1411065854913">
<!-- Modification History

 -->
 <title>Cinder Volume Backups</title>
 <shortdesc>Cinder volume backups are executed selectively, one volume at a time.
  They can include virtual disk images and any other Cinder volumes available in the
  system.</shortdesc>
 <prolog>
  <author></author>
 </prolog>
 <body>
  <p>Consider the following recommendations when executing Cinder volume backups.</p>
  <dl>
   <dlentry>
    <dt>Aim at backing up an idle system</dt>
    <dd>
     <p>In an idle system, there are no running virtual machines. All VMs are either
      shut down or terminated. This is the ideal state for ensuring that the current content of all
      volumes is captured for replication at the next restore operation. Volumes reported as <i>available</i> are not associated with any VMs, while volumes reported as <i>in-use</i> are associated only with shut-down VMs, and are not being actively
      modified.</p>
     <p>In a non-idle system, at least one VM is running. Volumes reported as <i>in-use</i> may be subject to write operations. In this case, you can create
      snapshots and back them up, but there is a risk of changes after the snapshot that are not
      captured.</p>
     <p>Instructions to back up Cinder volumes in <i>available</i>
      and <i>in-use</i> states are provided in the following sections.</p>
    </dd>
   </dlentry>
   <dlentry>
    <dt>Back up one volume at a time</dt>
    <dd>
     <p>Backing up Cinder volumes can be a time- and space- consuming process, as
      determined by the size of the volumes themselves. Having two or more backup processes running
      simultaneously is likely to result in a severe performance hit to the controller and the
      running instances. This not only slows the normal system operations, but also makes the backup
      operations themselves take much longer.</p>
    </dd>
   </dlentry>
   <dlentry>
    <dt>Clean up as soon as possible</dt>
    <dd>
     <p>Backup files for Cinder volumes can fill up the <filepath>/opt/backups</filepath> partition
      on the controller very quickly. This is likely to cause further backup operations to fail in
      the middle of the execution. Therefore, as soon as a Cinder volume is backed up, and its
      backup files transferred and securely stored elsewhere:</p>
     <ul id="ul_jws_dpz_lp">
      <li>
       <p>remove any snapshots you may have created during the backup process</p>
      </li>
      <li>
       <p>remove the backup files themselves</p>
      </li>
     </ul>
    </dd>
   </dlentry>
  </dl>
 </body>
</topic>