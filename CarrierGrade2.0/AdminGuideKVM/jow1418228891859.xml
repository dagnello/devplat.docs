<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "http://docs.oasis-open.org/dita/v1.1/OS/dtd/topic.dtd" >
<topic id="jow1418228891859" xml:lang="en-us">
<!-- Modification History
        
-->
    <title>Creating an Up/Down Autoscaling Resource</title>
    <shortdesc>The <filepath>VMAutoscaling.yaml</filepath> template illustrates the
        use of a template to create an up/down autoscaling resource.</shortdesc>
    <prolog><author/>
        <author/>
    </prolog>
    <body>
        
            <p>This HOT template creates a VM instance with vCPU autoscaling. The number of online
                vCPUS for the instance is scaled up or down depending on vCPU utilization. The
                scaling range (minimum and maximum number of vCPUs) is determined by the launch
                flavor. </p>
            <p>For up/down scaling, the CPU measurement uses a <codeph>vcpu_util</codeph> meter, which takes into account the
                current number of online vCPUs when measuring usage. This is in contrast to the
                    <codeph>cpu_util</codeph> meter, which always uses
                the maximum number of vCPUs. Using <codeph>cpu_util</codeph> for up/down scaling would produce an inaccurate
                usage/availability ratio if any vCPUs were offline, since it assumes all VCPUs are
                available.</p>
            <p>The VM image selected for launch must be capable of scaling. For more information
                about VM scaling, see <xref href="jow1417813748326.xml"/>.</p>
        
        <ol>
             
                <li>Collect the required parameters.
                 <ol>
                    
                        <li conref="jow1404333809730.xml#jow1404333809730/locate-flavor"/>
                    
                    
                        <li conref="jow1404333809730.xml#jow1404333809730/locate-keypair"/>
                    
                    
                        <li conref="jow1404333809730.xml#jow1404333809730/locate-image"/>
                    
                    
                        <li>On the
                                <b>Admin</b>, then
                                <b>System Panel</b>, then
                                <b>Networks</b>
                             page, obtain the <b>Name</b> of the private network.</li>
                    
                    
                        <li conref="jow1404333809730.xml#jow1404333809730/locate-user"/>
                
                </ol>
                </li>
            <li conref="jow1404832975002.xml#jow1404832975002/open-stack-list" id="step_N10096_N10059_N10020_N10001" />
               
            
            <li conref="jow1404833049288.xml#jow1404833049288/launch-stack" id="step_N1009D_N10059_N10020_N10001" />
                
            
             
                <li>Select<b> File</b>, then click
                        <b>Browse</b> and select <filepath>VMAutoScaling.yaml</filepath> from the local disk.</li>
            
             
                <li>Adjust the parameters in the <b>Launch Stack</b> form to meet
                    your requirements.
                <table>
                    <tgroup cols="2">
                        <tbody>
                            
                    <row>
                        <entry><b>KeyName</b>></entry>
                        
                        <entry>
                            <p>The <b>KeyPair</b> name from
                                    the<b> Access &amp; Security</b> page.</p>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <p><b>TenantUserID</b></p>
                        </entry>
                        <entry>
                            <p>The tenant user ID associated with the instance
                                launch. Scaling of the  instance resources can only be performed by
                                the tenant associated with the launch.</p>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <p><b>FlavorName</b></p>
                        </entry>
                        <entry>
                            <p>The <b>Flavor Name</b> from the
                                    <b>Flavors</b> page.</p>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <p><b>ImageName</b></p>
                        </entry>
                        <entry>
                            <p>The <b>Image Name</b> from the
                                    <b>Images</b> page.</p>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <p><b>PrivateNetName</b></p>
                        </entry>
                        <entry>
                            <p>The <b>Name</b>
                                from the <b>Network Overview</b>
                                page.</p>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <p><b>InstanceName</b></p>
                        </entry>
                        <entry>
                            <p>The name of the instance to create.</p>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <p><b>CustomMeterName</b></p>
                        </entry>
                        <entry>
                            <p>The name of a custom Ceilometer metric to store.<!-- For
                                information about custom metrics, see <xref href="jow1404916152577.xml"/>.--></p>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <p><b>CustomMeterUnit</b></p>
                        </entry>
                        <entry>
                            <p>The unit of measurement to display for the custom
                                metric; for example, 'Percent'.</p>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <p><b>MetricHighWaterMark</b></p>
                        </entry>
                        <entry>
                            <p>The value that triggers autoscaling to add
                                resources.</p>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <p><b>MetricLowWaterMark</b></p>
                        </entry>
                        <entry>
                            <p>The value that triggers autoscaling to remove
                                resources.</p>
                        </entry>
                    </row>
                </tbody></tgroup></table>
        </li>
        </ol>
    </body>
</topic>