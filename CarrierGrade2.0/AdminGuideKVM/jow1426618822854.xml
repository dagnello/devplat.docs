<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "http://docs.oasis-open.org/dita/v1.1/OS/dtd/topic.dtd" >
<topic id="jow1426618822854" xml:lang="en-us">
<!-- Modification History
        
-->
    <title>Designating Shared Physical CPUs on a Compute Host</title>
    <shortdesc>You can designate one shared physical CPU per physical processor on a
        compute host to run low-load or non-real-time tasks for multiple VMs, freeing other cores on
        the host for dedicated high-load tasks.</shortdesc>
    <prolog><author/>
        <author/>
    </prolog>
    <body>
        
            <p>You can use the web administration interface or the CLI to set up shared physical CPUs.</p>
            <p>To add or remove a shared physical CPU from the CLI, use a command of the following form:</p>
            <codeblock>~(keystone_admin)$ system host-cpu-modify -f shared -pprocessor use_shared hostname</codeblock>
            <p>where</p>
            <parml>
                <plentry>
                    <pt>processor</pt>
                    <pd>
                        <p>is the number of the physical processor (0 or 1)</p>
                    </pd>
                </plentry>
                <plentry>
                    <pt>use_shared</pt>
                    <pd>
                        <p>specifies whether to use a shared physical CPU (0 for no, 1 for yes)</p>
                    </pd>
                </plentry>
                <plentry>
                    <pt>hostname</pt>
                    <pd>
                        <p>is the name of the compute host</p>
                    </pd>
                </plentry>
            </parml>
            <p>For example, to set up a shared physical CPU on processor <codeph>0</codeph> of
                    <codeph>compute-0</codeph>:</p>
            <codeblock>~(keystone_admin)$ system host-cpu-modify -f shared -p0 1 compute-0</codeblock>
        
        <ol>
            <li conref="jow1426453628262.xml#jow1426453628262/lock_host" id="step_N10096_N10093_N1001C_N10001" />
                
            
            <li conref="jow1426453628262.xml#jow1426453628262/open_details_locked_host" id="step_N1009F_N10093_N1001C_N10001" />
                
            
             
                <li>Select the <b>Processor</b> tab.</li>
            
             
                <li>Click <b>Edit CPU Assignments</b>.
                
                    <p>This control is available only if the host is locked.</p>
                
                </li>
             
                <li>In the <b>Edit CPU
                        Assignments</b> dialog box, use the <b>Shared</b>
                    Function section to enable shared physical CPUs.
                
                    
                        <image href="jow1426626160742.image" id="image_cs5_h53_kr" width="3in">
                            <alt>Edit CPU Assignments: Function Shared</alt>
                        </image>
                    
                    <p>You can designate one core on each physical processor for
                        use as a shared physical CPU. The actual core is assigned from the pool of
                        available cores for the processor.</p>
                    <p>For example, to use a core on processor 0 as a shared physical CPU,
                        set the <b># of Shared Physical Cores on Processor
                            0</b> to 1. Valid values are <codeph>1</codeph> (to assign a core as a shared physical CPU) or <codeph>0</codeph> (if a shared physical CPU is not required on
                        the processor.) </p>
                </li>
            
        </ol>
        
            <p>To configure a VM to use a shared physical CPU, see <xref href="jow1426625051841.xml"/>.</p>
        
    </body>
</topic>