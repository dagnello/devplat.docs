<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="ts_cinder_config">
  <title>HPE Helion <tm tmtype="reg">OpenStack</tm> 2.0: Troubleshooting the Block Storage Backend
    Configuration</title>
  <body>
    <section id="about">
      <p>We have gathered some of the common issues that occur during the Block Storage
        configuration steps and organized them by product.</p>
    </section>
    <section id="vsa"><title>Troubleshooting the VSA Configuration</title>
      <p><b>Issue: You have forgotten the identifying information about your VSA cluster</b></p>
      <p>If you have forgotten the cluster name or IP address after creating the cluster in the CMC utility then you
        can perform the following steps to retrieve them:</p>
      <ol>
        <li>Log in to CMC console using the <codeph>/opt/HP/StoreVirtual/UI/jre/bin/java -jar
            /opt/HP/StoreVirtual/UI/UI.jar</codeph> command from the lifecycle-manager/deployer
          node.</li>
        <li>Log in to the Management group.</li>
        <li>On the left side of the CMC console screen, click <b>mgmt</b>. It expands and you will
          be able to see the cluster name.</li>
        <li>Click the cluster name. The page on the right hand side will populate with the cluster
          information.</li>
        <li>Click <codeph>iSCSI</codeph> on the right hand side of the page. The virtual IP address
          will be displayed in the tabular form. You can view your cluster ID here.</li>
      </ol>
      <p><b>Running <codeph>site.yml</codeph> during the VSA installation produces an error in the "Create VSA appliance" task step</b></p>
      <p>If you are going through the VSA configuration and the <codeph>site.yml</codeph> playbook results in the error below then you likely did not set your locale properly.</p>
      <p>Error:</p>
      <codeblock>
TASK: [VSA-DEP | deploy | Create VSA appliance] *******************************
failed: [helion-cp1-vsa0001-mgmt] => {"changed": true, "cmd": ["./vsa_automation", "-f", "/etc/vsa/vsa_disks.json", "-ao", "False"], "delta": "0:00:00.368050", "end": "2015-10-27 11:02:18.378824", "rc": 1, "start": "2015-10-27 11:02:18.010774", "warnings": []}
stderr: libvirt: Network Driver error : Network not found: no network with matching name 'vsa-network'
Traceback (most recent call last):
   File "./vsa_automation", line 83, in &#60;module>
      deployer.install_vsa()
   File "/opt/stack/venv/storevirtual-installer-20151022T080854Z/lib/python2.7/site-packages/storevirtual_installer/deployer.py", line 88, in install_vsa
      self._roll_back_installation()
   File "/opt/stack/venv/storevirtual-installer-20151022T080854Z/lib/python2.7/site-packages/storevirtual_installer/deployer.py", line 479, in _roll_back_installation
      self._vsa_network_destroy()
   File "/opt/stack/venv/storevirtual-installer-20151022T080854Z/lib/python2.7/site-packages/storevirtual_installer/deployer.py", line 493, in _vsa_network_destroy
      raise vsa_excs.NetworkDestroyFailed(msg)
storevirtual_installer.vsa_excs.NetworkDestroyFailed: Failed to destroy and undefine the network

FATAL: all hosts have already failed -- aborting</codeblock>
      <p>Fix:</p>
      <p>Set your locale prior to running <codeph>site.yml</codeph> with this command on your lifecycle manager:</p>
      <codeblock>export LC_ALL=C</codeblock>
      </section>
  </body>
</topic>
